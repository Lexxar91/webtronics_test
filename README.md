~~# Social Network API

Backend API для социальной сети на Python, FastAPI и SQLite.

## Описание

Это REST API позволяет:

- Регистрировать пользователей
- Аутентифицироваться через JWT токен
- Создавать, читать, обновлять и удалять посты
- Ставить и удалять лайки на посты
- Получать количество лайков текущего пользователя

## Технологии

- **FastAPI** - высокопроизводительный веб-фреймворк на Python
- **SQLAlchemy** - ORM и абстракции для работы с БД
- **SQLite** - встроенная SQL база данных, хранится в файле
- **Pydantic** - валидация данных и сериализация 
- **JWT** - аутентификация через JSON Web Token
- **KICKBOX** - сервис для верификации email адресов, используется при регистрации пользователей(вместо emailhunter.co)

## Установка

Создать и активировать виртуальное окружение:
- python -m venv venv
- source venv/bin/activate


Установить зависимости:
- pip install -r requirements.txt


## Переменные окружения

- `DATABASE_URL` - URL подключения к SQLite
- `SECRET_KEY` - секретный ключ для JWT токенов
- `KICKBOX_API_KEY` - ключ доступа к API Kickbox  

## Начальная настройка

Выполнить миграции SQLAlchemy:
- alembic upgrade head <br>
Это создаст таблицы пользователей, постов и пр.

## Запуск
- uvicorn app.main:app --reload
- Сервер будет доступен на http://localhost:8000/docs

## API

### Аутентификация

- `POST /auth/jwt/login` - аутентификация и получение JWT токена
- `POST /auth/register` - регистрация нового пользователя

### Пользователи   

- `GET /users/me` - получить данные текущего пользователя
- `PATCH /users/me` - обновить данные текущего пользователя
- `DELETE /users/{id}` - удалить пользователя (запрещено)

### Посты

- `GET /posts` - получить все посты 
- `POST /posts` - создать пост
- `GET /posts/{id}` - получить конкретный пост по id
- `PATCH /posts/{id}` - обновить пост
- `DELETE /posts/{id}` - удалить пост

### Лайки

- `POST /posts/{id}/like` - поставить лайк на пост
- `DELETE /posts/{id}/like` - убрать лайк с поста
- `GET /users/me/likes` - получить количество лайков текущего пользователя

## Лицензия

MIT~~
